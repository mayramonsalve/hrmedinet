$(document).ready(function () { var dleft = $('.lavalamp li.active').offset().left - $('.lavalamp').offset().left; var dwidth = $('.lavalamp li.active').width() + "px"; $('.floatr').css({ "left": dleft + "px", "width": dwidth }); $('li').hover(function () { var left = $(this).offset().left - ($('.lavalamp').offset().left + 15); var width = $(this).width() + "px"; var sictranslate = "translate(" + (left - 275) + "px, 0px)"; $(this).parent('ul').next('div.floatr').css({ "width": width, "-ms-transform": sictranslate, "-webkit-transform": sictranslate, "-moz-transform": sictranslate }) }, function () { var left = $('li.active').offset().left - ($('.lavalamp').offset().left + 15); var width = $('li.active').width() + "px"; var sictranslate = "translate(" + (left - 275) + "px, 0px)"; $(this).parent('ul').next('div.floatr').css({ "width": width, "-ms-transform": sictranslate, "-webkit-transform": sictranslate, "-moz-transform": sictranslate }) }).click(function () { $(this).siblings('li').removeClass('active'); $(this).addClass('active') }) });